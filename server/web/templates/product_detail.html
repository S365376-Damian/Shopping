
<link href="/static/css/home.css" rel="stylesheet">
<link href="/static/css/product_detail.css" rel="stylesheet">
{% extends 'base_dashtreme_full_width.html' %}
<!-- tmdt css-->

{% block head %}
<title>Trang chủ</title>
<style>
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield;
}
input[type="number"] {
    pointer-events: none; /* Ngăn người dùng tương tác */
}
.product_detail_listimg_img{
    width: 100%;
    object-fit: cover;
}

.product_detail_content_item_add{
    font-size: 16px;
    color: #fff;
    height: 44px;
    width: 320px;
    max-width: 100%;
    border-radius: 25px;
    text-align: center;
    line-height: 39px;
    padding: 0;
    font-weight: 300;
    border: none;
    display: inline-block;
    border: 1px solid;
    vertical-align: top;
    background-color: #222;
    margin-top: 30px;
    cursor: pointer;
}
#list_evaluate{
    display: flex;
    flex-direction: column;
}

@media all and (max-width: 786px) {
    .login_list_progress{
        display: none;
    }
    .product_detail{
        flex-direction: column;
    }
    .product_detail_listimg{    
        width: 100%;
        position: relative;
    }
    .product_detail_content{
        width: 100%;
    }
}
.product_detail_content_item_size{
    box-sizing: content-box;
    height: 30px;
    cursor: pointer;
    font-weight: 700;
    color: #222;
    display: inline-block;
    min-width: 35px;
    height: 35px;
    line-height: 30px;
    text-align: center;
    border-radius: 50%;
    text-transform: uppercase;
    transition: border .2s;
    font-weight: 400;
    border: 1px solid #000;
    margin: 0 8px;
}

.product_detail_content_item_color{
    box-sizing: content-box;
    height: 30px;
    cursor: pointer;
    font-weight: 700;
    color: #222;
    display: inline-block;
    min-width: 35px;
    height: 35px;
    line-height: 30px;
    text-align: center;
    border-radius: 50%;
    text-transform: uppercase;
    transition: border .2s;
    font-weight: 400;
    border: 1px solid #000;
    margin: 0 8px;
}
</style>
{% endblock %}
{% block body %}
<div class="mobile_menu">
    <div id="logo_center">
        <img style="vertical-align: middle; width: 100px;" src="../static/img/logo.jpg"></img>
    </div>
    <div class="list_mobile_menu">
        <div id="btn_menuMobile_Home" class="item_mobile_menu">Trang chủ</div>
        <div class="item_mobile_menu">Giới thiệu</div>
        <div id="btn_showListItem" class="item_mobile_menu">Shop Online
            <span  class="icon-sub-menu"><i id="changeIcon" class="fas fa-angle-down"></i></span>
        </div>
        <div class="list_sub_menu item_mobile_menu"></div>
        <div id="btn_blogs_mobile"  class="item_mobile_menu">Blog</div>
    </div>
</div>
<div id="mobile_overplay"></div>
<div class="header_home">
    <div>
        <img class="img_top_header" src="../static/img/bg_header.jpg"></img>
    </div>

    <div class="header_home_center">
        <div class="emty"></div>
        <div class="center_text_mobile">
             
        </div>
        <div class="right_center_header">
            <div class="center_text_mobile" id="my_account">Tài khoản</div>
            <div class="icon_account center_text_mobile"><i style="height:14px; width: 14px;" class="icon_cart_i far fa-user"></i></div>
            <div onclick="GotoCartPage()" style="display: flex;" class="changeCart">
                <div id="btn_cart" class="my_cart">Giỏ hàng</div>
                <div class="icon_cart"><i style="height:14px; width: 14px;" class="fas fa-shopping-cart icon_cart_i"></i></div>
                <div style="padding: 0 10px;" id="lbl_numberCart" hidden>0</div>
            </div>
        </div>
    </div> 
    
    <div class="nav_header">
        <div class="nav_header_list">
            <div class="nav_header_item">Giới thiệu</div>
            <div id="shop_online" class="nav_header_item">Shop Online
                <div class="nav_header_item_sub">
                </div>
            </div>
            <div id="btn_blogs" class="nav_header_item">Blog</div>
            <div id="btn_bars">
                <i style="font-size: 20px;" class="fa fa-bars"></i>
            </div>
        </div>
        <div id="logo" style="cursor: pointer;">
            <img class="logo" src="../static/img/logo.jpg"></img>
        </div>
        <div class="nav_header_list">
            <div class="nav_header_item" style="margin-left: auto;">Hướng dẫn mua hàng</div>
            <div id="btn_search">
                <i style="font-size: 20px;" class="fas fa-search"></i>
            </div>
        </div>
    </div>
</div>

<div class="body_home">
    <div class="login_list_progress">
        <div id="btn_home" class="login_show_li">Trang chủ</div>
        <span class="sep">/</span>
        <div id="btn_load" class="login_show_li">Thời trang nữ</div>
        <span class="sep">/</span>
        <div class="login_hide_acc">Váy công sở</div>
    </div>

    <div id="product_item" class="product_detail" hidden>
        <div class="product_detail_listimg">
            <img id="product_image" class="product_detail_listimg_img" src=""></img>
        </div>
        <div class="product_detail_content">
            <div id="lbl_product_name" class="product_detail_content_name">Đầm xòe xếp ly cổ V phối nút màu xanh pastel</div>
            <div class="product_detail_content_code">Mã SP :
                <div id="lbl_product_code" class="product_detail_content_codeSP"> HL27-06</div>
            </div>
            <div id="lbl_product_price" class="product_detail_content_price">550.000 ₫</div>
            <div id="list_size" class="product_detail_content_listsize">
                Size
                <div class="product_detail_content_item_size" id="btn_sizeS" hidden>S</div>
                <div class="product_detail_content_item_size" id="btn_sizeM" hidden>M</div>
                <div class="product_detail_content_item_size" id="btn_sizeL" hidden>L</div>
                <div class="product_detail_content_item_size" id="btn_sizeXL" hidden>XL</div>
                <div class="product_detail_content_item_size" id="btn_sizeXXL" hidden>XXL</div>
            </div>
            <div style="margin-top: 20px;" id="list_color" class="product_detail_content_listsize">
                Màu
            </div>
            <div class="product_detail_content_item_quantity">
                <div id="btn_quantityMinus" class="product_detail_content_item_quantity_btn">
                    -
                </div>
                <input type="number" id="txt_quantity" class="product_detail_content_item_quantity_input" min="0" oninput="validity.valid||(value='')">
                <div id="btn_quantityPlus" class="product_detail_content_item_quantity_btn">
                    +
                </div>
            </div>
            <div id="btn_addOrder" class="product_detail_content_item_add">
                Thêm vào giỏ hàng
            </div>
            <div style="margin-top: 40px;" id="list_material" class="product_detail_content_listsize">
            </div>
            <div style="margin-top: 20px;" id="txt_describe" class="product_detail_content_listsize">
            </div>
        </div>
    </div>
    <div style="color: #222; font-weight: bold;" class="product_detail" >Đánh Giá Sản Phẩm</div>
    <div id="list_evaluate" class="product_detail">
    </div>

    <div class="body_home_title">SẢN PHẨM HOT</div>
    <section id="slide1" class="splide slide_body2" aria-label="Splide Basic HTML Example">
        <div class="splide__track">
              <ul id="list_slide1" class="splide__list">
              </ul>
        </div>
    </section>
    <div class="body_home_title">SẢN PHẨM CÙNG DANH MỤC</div>
    <div class="body_home_title_img">
        <img src="../static/images/img-title-body.png">
    </div>
    <section id="slide2" class="splide slide_body" aria-label="Splide Basic HTML Example">
        <div class="splide__track">
              <ul id="list_slide2" class="splide__list">
              </ul>
        </div>
    </section>
    <!-- <div class="bg_body"></div> -->
    <!-- <div class="text_coming">Coming Soon</div> -->
</div>

<div class="footer_home">
    <div class="footer_home_list">
        <div class="footer_home_item">
            <div class="footer_home_item_hotline">
                <span>HOTLINE:</span>
                <a class="sdt">0896462282</a>
            </div>
            <div onclick="GotoTypePagePoliCy('bao-mat-thong-tin')" class="footer_home_item_link">Chính sách bảo mật thông tin khách hàng</div>
            <div onclick="GotoTypePagePoliCy('doi-tra-san-pham')" class="footer_home_item_link">Chính sách đổi trả sản phẩm</div>
            <div onclick="GotoTypePagePoliCy('bao-hanh')" class="footer_home_item_link">Chính sách bảo hành sản phẩm</div>
            <div onclick="GotoTypePagePoliCy('van-chuyen')" class="footer_home_item_link">Chính sách giao nhận, vận chuyển</div>
            <div onclick="GotoTypePagePoliCy('thanh-toan')" class="footer_home_item_link">Phương thức thanh toán</div>
            <div onclick="GotoTypePagePoliCy('khach-hang-than-thiet')" class="footer_home_item_link">Chính sách khách hàng thân thiết</div>
        </div>
    </div>
    <div style="width: 100%; justify-content: center; display: flex; margin-top: 20px;"><a href="https://www.facebook.com/AnQuocnT">Developed by Quốc An</a></div>
</div>

<li id="item_template" class="splide__slide slide_body_item" hidden>
    <div class="boc_img">
        <img id="img_product" class="slide_body_item_img" src="">
    </div>
    <div class="slide_body_item_product_content_size">
        <div>SIZE</div>
        <div id="lbl_productSize"></div>
    </div>
    <div class="slide_body_item_product_content">
        <div class="slide_body_item_product_content_top">
            <div id="lbl_productCode"></div>
            <div id="lbl_productPrice"></div>
        </div>
        <div id="lbl_productName" class="slide_body_item_product_content_name"> </div>
    </div>
</li>

<li id="item_template2" class="splide__slide slide_body_item" hidden>
    <div class="boc_img">
        <img id="img_product2" class="slide_body_item_img" src="">
    </div>
    <div class="slide_body_item_product_content_size">
        <div>SIZE</div>
        <div id="lbl_productSize2"></div>
    </div>
    <div class="slide_body_item_product_content">
        <div class="slide_body_item_product_content_top">
            <div id="lbl_productCode2"></div>
            <div id="lbl_productPrice2"></div>
        </div>
        <div id="lbl_productName2" class="slide_body_item_product_content_name"> </div>
    </div>
</li>

<div id="item_evaluate">
    <div id="lbl_evaluate"></div>
</div>

<div style="border-radius: 4px; padding: 0px 4px;" class="product_detail_content_item_color" id="item_color" hidden><div id="lbl_color"></div></div>

<!-- edit modal end-->

<!-- modals end -->


{% endblock %}

{% block scripts %}
<script>
g_listSize = []
g_showItem = false
g_product_pk = ''
g_product = null
g_user = null
g_quantity = 1
g_size = ""
g_color = ""
max_productSlide1 = 12
max_productSlide2 = 12
g_products = null
g_evaluates = null

$(document).ready(function () {
    g_product_pk = findGETParameter("pk")
    $("#txt_quantity").val(g_quantity)
    GetTypeList()
    GetProduct()
    GetUser()
    GetProductList()
});

function GetTypeList() {
    $('#result_table > tbody tr').remove()
    request_data = {
        "search_string": $("#txt_search").val(),
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/type/gets'
    ajaxRequest("POST", host_request, request_data, onSearchSuccess, genericFailCB)
}

function onSearchSuccess(res) {
    var index = 1
    g_types = res.objects
    var parentElement = $('.nav_header_item_sub');
    var parentElementSub = $('.list_sub_menu');
    for (i = 0; i < g_types.length; i++) {
        var newItem = $('<div>').addClass('nav_header_item_sub_item').text(g_types[i].name);
        var newItemSub = $('<div>').addClass('item_sub_menu').text(g_types[i].name);
        newItem.attr("onClick", 'GotoTypePage("' + g_types[i]._id.$oid + '")');
        newItemSub.attr("onClick", 'GotoTypePage("' + g_types[i]._id.$oid + '")');
        parentElement.append(newItem);
        parentElementSub.append(newItemSub);
    }
}

function GetProduct() {
    $('#result_table > tbody tr').remove()
    request_data = {
        'pk' : g_product_pk,
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/product/gets'
    ajaxRequest("POST", host_request, request_data, onSearchProductSuccess, genericFailCB)
}

function onSearchProductSuccess(res) {
    g_product = res.objects[0]
    let item_template = $("#product_item")
    item_template.removeAttr('hidden')
    if(g_product.image != null)
    {
        item_template.find("#product_image").attr("src",g_product.image) 
    }
    else
    {
        if(g_product.imagePaths[0].includes("product"))
        {
            item_template.find("#product_image").attr("src", "/media/" + g_product.imagePaths[0]) 
        }
        else
        {
            item_template.find("#product_image").attr("src", "/media/" + g_product.imageDir + "/" + g_product.imagePaths[0])
        }
    }
    item_template.find("#lbl_product_name").html(g_product.product_name) 
    item_template.find("#lbl_product_code").html(g_product.product_code) 
    item_template.find("#lbl_product_price").html(g_product.price.toLocaleString() + "đ")
    let sizeArray = g_product.size.split(',').map(item => item.trim());
    for(let a = 0; a<sizeArray.length; a++){
        if(sizeArray[a].toUpperCase() == "S"){
            $("#btn_sizeS").removeAttr('hidden')
        }
        else if(sizeArray[a].toUpperCase() == "M"){
            $("#btn_sizeM").removeAttr('hidden')
        }
        else if(sizeArray[a].toUpperCase() == "L"){
            $("#btn_sizeL").removeAttr('hidden')
        }
        else if(sizeArray[a].toUpperCase() == "XL"){
            $("#btn_sizeXL").removeAttr('hidden')
        }
        else if(sizeArray[a].toUpperCase() == "XXL"){
            $("#btn_sizeXXL").removeAttr('hidden')
        }
    }
    let colorArray = g_product.color.split(', ');
    for(let b = 0; b<colorArray.length; b++){
        let item_color = $("#item_color").clone()
        item_color.removeAttr('hidden')
        item_color.find("#lbl_color").html(colorArray[b]) 
        item_color.attr("onClick", 'ChooseColor("' + colorArray[b] + '")');
        $("#list_color").append(item_color)
    }
    $("#list_material").html("Chất liệu: " + g_product.material)
    $("#txt_describe").html(g_product.describe)
    GetEvaluate()
}

function GetEvaluate() {
    request_data = {
        "product_pk" : g_product._id.$oid,
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/evaluate/gets'
    ajaxRequest("POST", host_request, request_data, onSearchListEvaluateSuccess, genericFailCB)
}

function onSearchListEvaluateSuccess(res) {
    $("#list_evaluate").empty()
    g_evaluates = res.objects
    for (let i = 0; i < g_evaluates.length; i++) {
        let item_template = $("#item_evaluate").clone()
        item_template.find("#lbl_evaluate").html(g_evaluates[i].user_name + " đã đánh giá " + g_evaluates[i].point + " sao! " + g_evaluates[i].content)
        $("#list_evaluate").append(item_template)
    }
    console.log('hả')
}

function GetProductList() {
    $('#result_table > tbody tr').remove()
    request_data = {
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/product/gets'
    ajaxRequest("POST", host_request, request_data, onSearchListProductSuccess, genericFailCB)
}

function onSearchListProductSuccess(res) {
    $("#list_slide1").empty()
    $("#list_slide2").empty()
    g_products = res.objects
    for (let i = 0; i < g_products.length; i++) {
        if(i + 1 > max_productSlide1) break
        let item_template = $("#item_template").clone()
        item_template.attr("onClick", 'ShowProductDetail("' + g_products[i]._id.$oid + '")')
        item_template.removeAttr('hidden')
        if(g_products[i].image != null){
            item_template.find("#img_product").attr("src",g_products[i].image) 
        }
        else if(g_products[i].imagePaths.length > 0)
        {
            if(g_products[i].imagePaths[0].includes('product'))
            {
                item_template.find("#img_product").attr("src", "/media/" + g_products[i].imagePaths[0]) 
            }
            else
            {
                item_template.find("#img_product").attr("src", "/media/" + g_products[i].imageDir + "/" + g_products[i].imagePaths[0]) 
            } 
        }
        else{
            item_template.find("#img_product").attr("src",'../static/img/logo.jpg') 
        }
        item_template.find("#lbl_productSize").html(g_products[i].size.split(',').map(item => item.trim()).join(' '))
        item_template.find("#lbl_productCode").html(g_products[i].product_code)
        item_template.find("#lbl_productPrice").html(g_products[i].price.toLocaleString() + "đ")
        item_template.find("#lbl_productName").html(g_products[i].product_name)
        $("#list_slide1").append(item_template)
    }
    for (let i = 0; i < g_products.length; i++) {
        if(i + 1 > max_productSlide2) break
        let item_template2 = $("#item_template2").clone()
        item_template2.attr("onClick", 'ShowProductDetail("' + g_products[i]._id.$oid + '")')
        item_template2.removeAttr('hidden')
        if(g_products[i].image != null){
            item_template2.find("#img_product2").attr("src",g_products[i].image) 
        }
        else if(g_products[i].imagePaths.length > 0)
        {
            if(g_products[i].imagePaths[0].includes('product'))
            {
                item_template2.find("#img_product2").attr("src", "/media/" + g_products[i].imagePaths[0]) 
            }
            else
            {
                item_template2.find("#img_product2").attr("src", "/media/" + g_products[i].imageDir + "/" + g_products[i].imagePaths[0]) 
            } 
        }
        else{
            item_template2.find("#img_product2").attr("src",'../static/img/logo.jpg') 
        }
        item_template2.find("#lbl_productSize2").html(g_products[i].size.split(',').map(item => item.trim()).join(' '))
        item_template2.find("#lbl_productCode2").html(g_products[i].product_code)
        item_template2.find("#lbl_productPrice2").html(g_products[i].price.toLocaleString() + "đ")
        item_template2.find("#lbl_productName2").html(g_products[i].product_name)
        $("#list_slide2").append(item_template2)
    }
    var splide1 = new Splide( '#slide1', {
        type   : 'loop',
        perPage: window.innerWidth >= 1100 ? 4 : 2,
        perMove: window.innerWidth >= 1100 ? 1 : 2,
    } );
    splide1.mount();

    var splide2 = new Splide( '#slide2', {
        type   : 'loop',
        perPage: window.innerWidth >= 1100 ? 6 : 2,
        perMove: window.innerWidth >= 1100 ? 6 : 2,
    } );

    splide2.mount();
}

function GetUser() 
{
    if(Cookies.get("token") == undefined) return
    request_data = {
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/user/get'
    ajaxRequest("POST", host_request, request_data, onGetUserSuccess, genericFailCB)
}

function onGetUserSuccess(res) {
    g_user = res
    GetMyNewOrder()
}

function GetMyNewOrder() 
{
    request_data = {
        "user_pk":g_user._id.$oid
    }
    host_request = gethost() + '/api/order/getMyNew'
    ajaxRequest("POST", host_request, request_data, onGetMyNewOrderSuccess, genericFailCB)
}

function onGetMyNewOrderSuccess(res) {
    let myNewOrder = res.objects
    if(myNewOrder.length > 0){
        $("#lbl_numberCart").removeAttr('hidden')
        document.getElementById("lbl_numberCart").innerText = myNewOrder.length
        $('.changeCart').css('background-color', '#ff4136');
    }
}

$("#my_account").click(function () {
    window.location.href = "/login";
});

$("#btn_quantityMinus").click(function () {
    if(g_quantity == 1) return
    g_quantity -= 1
    $("#txt_quantity").val(g_quantity)
});

$("#btn_quantityPlus").click(function () {
    g_quantity += 1
    $("#txt_quantity").val(g_quantity)
});

$("#btn_sizeS").click(function () {
    $(".product_detail_content_item_size").css({ // Reset tất cả các nút về màu trắng
        "background-color": "white",
        "color": "black"
    });
    $(this).css({ // Đặt màu đen cho nút vừa được nhấn
        "background-color": "black",
        "color": "white"
    });
    g_size = "S"
});

$("#btn_sizeM").click(function () {
    $(".product_detail_content_item_size").css({ // Reset tất cả các nút về màu trắng
        "background-color": "white",
        "color": "black"
    });
    $(this).css({ // Đặt màu đen cho nút vừa được nhấn
        "background-color": "black",
        "color": "white"
    });
    g_size = "M"
});

$("#btn_sizeL").click(function () {
    $(".product_detail_content_item_size").css({ // Reset tất cả các nút về màu trắng
        "background-color": "white",
        "color": "black"
    });
    $(this).css({ // Đặt màu đen cho nút vừa được nhấn
        "background-color": "black",
        "color": "white"
    });
    g_size = "L"
});

$("#btn_sizeXL").click(function () {
    $(".product_detail_content_item_size").css({ // Reset tất cả các nút về màu trắng
        "background-color": "white",
        "color": "black"
    });
    $(this).css({ // Đặt màu đen cho nút vừa được nhấn
        "background-color": "black",
        "color": "white"
    });
    g_size = "XL"
});

$("#btn_sizeXXL").click(function () {
    $(".product_detail_content_item_size").css({ // Reset tất cả các nút về màu trắng
        "background-color": "white",
        "color": "black"
    });
    $(this).css({ // Đặt màu đen cho nút vừa được nhấn
        "background-color": "black",
        "color": "white"
    });
    g_size = "XXL"
});

function ChooseColor(color) {
    $(".product_detail_content_item_color").css({
            "background-color": "white",
            "color": "black"
    });
    $(".product_detail_content_item_color").filter(function() {
        return $(this).find("div").html().trim() == color;
    }).css({
        "background-color": "black",
        "color": "white"
    });
    g_color = color
}

$("#logo").click(function () {
    window.location.href = "/";
});

$("#btn_cart").click(function () {
    window.location.href = "/cart";
});

$("#logo_center").click(function () {
    window.location.href = "/";
});

$("#btn_blogs").click(function () {
    window.location.href = "/blogs";
});

$("#btn_blogs_mobile").click(function () {
    window.location.href = "/blogs";
});

$("#btn_bars").click(function () {
    document.getElementById("mobile_overplay").style.visibility = "visible"
    document.querySelector('.mobile_menu').classList.toggle('active');
    document.querySelector('#mobile_overplay').classList.toggle('active');
});

$("#mobile_overplay").click(function () {
    document.getElementById("mobile_overplay").style.visibility = "hidden"
    document.querySelector('.mobile_menu').classList.toggle('active');
    document.querySelector('#mobile_overplay').classList.toggle('active');
});

$("#btn_menuMobile_Home").click(function () {
    window.location.href = "/";
});

$("#btn_showListItem").click(function () {
    if(!g_showItem)
    {
        document.getElementById("changeIcon").classList.remove("fas", "fa-angle-down");
        document.getElementById("changeIcon").classList.add("fas", "fa-times");
        g_showItem = true
    }else{
        document.getElementById("changeIcon").classList.remove("fas", "fa-times");
        document.getElementById("changeIcon").classList.add("fas", "fa-angle-down");
        g_showItem = false
    }
    document.querySelector('.list_sub_menu').classList.toggle('active');
});

$("#btn_addOrder").click(function () {
    if(g_user == null){
        showError("Bạn chưa đăng nhập")
        setTimeout(function() {
            window.location.href = "/login";
        }, 1500)
        return
    }
    if(g_size == ""){
        showError("Bạn chưa chọn Size")
        return
    }
    if(g_color == ""){
        showError("Bạn chưa chọn Màu")
        return
    }
    CreateOrder()
});

function CreateOrder() {
    let price = g_quantity * g_product.price
    request_data = {
        "user_pk" : g_user._id.$oid,
        "user_name" : g_user.fullname,
        "user_phone" : g_user.phone,
        "product_pk" : g_product._id.$oid,
        "product_name" : g_product.product_name,
        "price" : price,
        "size" : g_size,
        "color" : g_color,
        "quantity" : g_quantity,
        "token": Cookies.get("token")
    }
    host_request = gethost() + '/api/order/add'
    ajaxRequest("POST", host_request, request_data, onCreateOrderSuccess, genericFailCB)
}

function onCreateOrderSuccess(res) {
   showNotice(res["Success"])
   GetMyNewOrder()
}

function GotoTypePage(subject_pk)
{
    g_subject_pk = subject_pk
    window.location = "/type/?pk=" + subject_pk
}

function GotoTypePagePoliCy(name)
{
    window.location = "/policy/?name=" + name
}

function ShowProductDetail(product_pk)
{
    window.location = "/product_detail/?pk=" + product_pk
}

function GotoCartPage(name)
{
    if(g_user == null){
        showError("Bạn chưa đăng nhập")
        setTimeout(function() {
            window.location.href = "/login";
        }, 1500)
        return
    }
    window.location.href = "/cart";
}

</script>

{% endblock %}